import classnames from "classnames"
import dayjs from "dayjs"
import locale_zh_cn from "dayjs/locale/zh-cn"
import relativeTime from "dayjs/plugin/relativeTime"
import { useContext, useEffect, useState } from "react"
import { NavigateFunction, useNavigate } from "react-router-dom"

import { BilibiliApi } from "~src/api"

import { GlobalContext } from "./layout"

dayjs.locale(locale_zh_cn)
dayjs.extend(relativeTime)

const smallIconClass = classnames("h-4", "w-4", "inline", "mr-2")
const bigIconClass = classnames("h-8", "w-8", "inline", "ml-2")

export default () => {
  const { user: mine } = useContext<{ user: IUser }>(GlobalContext)
  const [user, setUser] = useState<IUser>(mine)
  const [max, setMax] = useState<number>()
  const [tags, setTags] = useState<ITags[]>([])
  const [page, setPage] = useState<number>(1)

  useEffect(() => {
    BilibiliApi.Instance()
      .tagsInfo()
      .then((res) => {
        setTags(res)
      })
  }, [])

  useEffect(() => {
    let user
    BilibiliApi.Instance()
      .followingsInfo(mine.mid, page)
      .then((res) => {
        const { list, total } = res
        setMax(total)
        return list[0]
      })
      .then((data) => {
        user = { ...user, ...data }
        return BilibiliApi.Instance().upInfo(user.mid)
      })
      .then((data) => {
        user = { ...user, ...data }
        return BilibiliApi.Instance().upFollowInfo(user.mid)
      })
      .then((data) => {
        const { total } = data
        setUser({ ...user, follow_count: total })
      })
  }, [page])

  const lvDom = (lv) => {
    switch (lv) {
      case 0:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2673">
            <path
              d="M1763.766857 73.142857c24.868571 0 44.544 18.285714 43.593143 49.444572v747.52a48.859429 48.859429 0 0 1-49.737143 49.298285H122.88a48.859429 48.859429 0 0 1-49.737143-49.371428V208.969143c0-24.649143 18.651429-49.371429 49.737143-49.371429H1148.342857v-37.010285c0-24.722286 18.651429-49.444571 49.737143-49.444572h565.613714zM265.801143 264.630857h-49.737143c-18.578286 0-37.302857 18.578286-37.302857 37.010286v488.082286c0 18.578286 18.724571 37.010286 37.302857 37.010285h298.422857c18.651429 0 37.302857-18.432 37.302857-37.010285v-49.371429c0-18.651429-18.651429-37.156571-37.302857-37.156571h-211.382857v-401.554286c0-18.432-18.651429-37.010286-37.302857-37.010286z m447.634286 0h-49.737143c-18.651429 0-37.302857 18.578286-37.302857 37.010286v302.811428c-0.365714 12.653714 0 30.427429 6.217142 36.937143l174.08 172.982857c6.875429 6.875429 19.529143 9.947429 29.403429 11.264l10.020571 0.950858h8.045715l10.020571-0.950858c9.874286-1.316571 22.601143-4.388571 29.476572-11.264l174.08-172.982857c6.144-6.070857 18.578286-18.432 18.578285-30.866285V307.931429c0-18.505143-18.651429-37.083429-37.302857-37.083429h-49.590857c-18.724571 0-37.376 18.578286-37.376 37.083429V585.874286l-105.691429 104.96-105.618285-104.96V301.641143c0-18.432-18.651429-37.010286-37.302857-37.010286zM1658.148571 178.102857h-354.304a49.005714 49.005714 0 0 0-49.737142 49.444572v543.670857c0 24.649143 18.651429 49.371429 49.737142 49.371428h354.304c24.868571 0 49.737143-18.505143 49.737143-49.371428V227.474286a48.932571 48.932571 0 0 0-49.737143-49.444572zM1552.457143 295.497143c16.603429 0 33.206857 14.628571 36.717714 30.866286l0.658286 6.144v333.677714c0 16.457143-14.774857 32.914286-31.158857 36.352l-6.217143 0.658286h-142.921143c-16.603429 0-33.133714-14.628571-36.571429-30.866286l-0.731428-6.144V332.580571c0-16.457143 14.701714-32.914286 31.085714-36.352l6.217143-0.658285h142.921143z"
              fill="#C0C0C0"
              p-id="2675"
            />
          </svg>
        )
      case 1:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2545">
            <path
              d="M1779.565714 73.142857c24.795429 0 49.590857 24.722286 43.446857 49.444572v747.446857a48.859429 48.859429 0 0 1-49.664 49.371428H144.603429a48.786286 48.786286 0 0 1-49.517715-49.371428V209.042286c0-24.722286 18.505143-49.444571 49.517715-49.444572h1021.805714v-37.010285c0-24.722286 18.651429-49.444571 49.590857-49.444572h563.638857z m-272.530285 117.467429h-123.830858c-18.505143 0-37.083429 18.505143-37.083428 37.010285v49.444572c0 18.505143 18.578286 37.083429 37.083428 37.083428h37.229715v389.12h-49.590857c-18.651429 0-37.156571 18.505143-37.156572 37.083429v49.371429c0 18.578286 18.505143 37.083429 37.156572 37.083428h223.378285c18.578286 0 38.326857-18.505143 38.326857-37.083428v-49.152c0-18.578286-19.748571-37.522286-38.326857-37.522286h-49.956571v-475.428572c0-18.505143-18.651429-37.010286-37.229714-37.010285zM732.964571 264.630857h-49.517714c-18.578286 0-37.156571 18.578286-37.156571 37.083429v308.443428c0.146286 12.214857 0.950857 27.940571 6.217143 31.305143l173.348571 172.909714c12.434286 12.434286 43.446857 12.434286 43.446857 12.434286h1.024c5.632-0.219429 31.305143-1.462857 42.276572-12.434286l173.421714-172.909714c1.389714-1.462857 3.072-2.852571 4.900571-4.388571 6.217143-5.339429 13.604571-11.702857 13.604572-20.260572V307.858286c0-18.505143-18.505143-37.010286-37.083429-37.010286h-49.517714c-18.651429 0-37.302857 18.505143-37.302857 37.010286v277.942857L875.52 690.907429 770.194286 585.874286V301.714286c0-18.505143-18.505143-37.083429-37.156572-37.083429z m-445.878857 0h-49.590857c-18.505143 0-37.083429 18.578286-37.083428 37.083429v488.009143c0 18.505143 18.578286 37.010286 37.083428 37.010285h297.325714c18.505143 0 37.156571-18.505143 37.156572-37.010285v-49.444572c0-18.578286-18.578286-37.083429-37.156572-37.083428H324.242286v-401.554286c0-18.432-18.578286-37.010286-37.156572-37.010286z"
              fill="#C0C0C0"
              p-id="2547"
            />
          </svg>
        )
      case 2:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2545">
            <path
              d="M1779.565714 73.142857c24.795429 0 49.590857 24.722286 43.446857 49.444572v747.52a48.786286 48.786286 0 0 1-49.590857 49.298285H144.603429a48.713143 48.713143 0 0 1-49.590858-49.371428V208.969143c0-24.649143 18.578286-49.371429 49.590858-49.371429h1021.805714v-37.010285c0-24.722286 18.578286-49.444571 49.517714-49.444572h563.565714zM733.037714 264.630857h-49.590857c-18.578286 0-37.156571 18.578286-37.156571 37.010286v302.811428c0 13.897143 0 33.060571 6.217143 36.937143l173.348571 172.982857c12.434286 12.434286 43.373714 12.434286 43.373714 12.434286s31.012571 0 43.373715-12.434286l185.782857-172.982857c6.217143-6.070857 6.217143-18.432 6.217143-30.866285V307.931429c0-18.505143-18.578286-37.083429-37.156572-37.083429h-49.517714c-18.651429 0-37.156571 18.578286-37.156572 37.083429V585.874286l-105.325714 104.96-105.325714-104.96V301.641143c0-18.432-18.505143-37.010286-37.083429-37.010286z m-445.952 0h-49.517714c-18.578286 0-37.156571 18.578286-37.156571 37.010286v488.082286c0 18.578286 18.578286 37.010286 37.156571 37.010285h297.252571c18.578286 0 37.156571-18.432 37.156572-37.010285v-49.371429c0-18.651429-18.578286-37.156571-37.156572-37.156571H324.242286v-401.554286c0-18.432-18.578286-37.010286-37.156572-37.010286z m1399.661715-92.672h-384c-18.578286 0-37.083429 18.505143-37.083429 37.010286v49.444571c0 18.505143 18.505143 37.083429 37.083429 37.083429h297.252571v142.043428h-297.252571c-18.578286 0-37.083429 18.505143-37.083429 37.083429v315.099429c0 18.505143 18.505143 37.010286 37.083429 37.010285h384c18.578286 0 37.156571-18.505143 37.156571-37.010285v-49.444572c0-18.578286-18.578286-37.156571-37.156571-37.156571h-297.179429V561.152h297.179429c18.578286 0 37.156571-18.578286 37.156571-37.083429V208.969143c0-18.505143-18.578286-37.010286-37.156571-37.010286z"
              fill="#8BD29B"
              p-id="2547"
            />
          </svg>
        )
      case 3:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2801">
            <path
              d="M1757.622857 73.142857c24.795429 0 49.517714 24.722286 43.373714 49.444572v747.446857a48.859429 48.859429 0 0 1-49.590857 49.371428H122.660571A48.786286 48.786286 0 0 1 73.142857 870.034286V209.042286c0-24.722286 18.578286-49.444571 49.517714-49.444572h1021.805715v-37.010285c0-24.722286 18.651429-49.444571 49.590857-49.444572h563.565714zM710.948571 264.630857h-49.517714c-18.578286 0-37.156571 18.578286-37.156571 37.083429v302.665143c0 13.165714 0 32.987429 6.217143 37.083428l173.348571 172.909714c11.044571 10.971429 36.717714 12.214857 42.349714 12.434286h1.024s31.012571 0 43.373715-12.434286l185.782857-172.909714c6.217143-6.217143 6.217143-18.505143 6.217143-30.866286V307.858286c0-18.505143-18.578286-37.010286-37.156572-37.010286h-49.517714c-18.651429 0-37.229714 18.505143-37.229714 37.010286v277.942857l-105.325715 105.033143L748.251429 585.874286V301.714286c0-18.505143-18.651429-37.083429-37.156572-37.083429z m-445.878857 0h-49.590857c-18.578286 0-37.156571 18.578286-37.156571 37.083429v488.009143c0 18.505143 18.578286 37.010286 37.156571 37.010285h297.325714c18.578286 0 37.156571-18.505143 37.156572-37.010285v-49.444572c0-18.578286-18.578286-37.083429-37.156572-37.083428h-210.651428v-401.554286c0-18.432-18.505143-37.010286-37.083429-37.010286zM1664.731429 171.958857h-384c-18.578286 0-37.083429 18.505143-37.083429 37.010286v49.444571c0 18.505143 18.505143 37.083429 37.083429 37.083429h297.252571v142.043428h-297.252571c-18.578286 0-37.083429 18.505143-37.083429 37.083429v49.444571c0 18.505143 18.505143 37.010286 37.083429 37.010286h297.252571v142.116572h-297.252571c-18.578286 0-37.083429 18.432-37.083429 37.010285v49.444572c0 18.505143 18.505143 37.083429 37.083429 37.083428h384c18.578286 0 37.156571-18.578286 37.156571-37.083428V208.969143c0-18.505143-18.578286-37.010286-37.156571-37.010286z"
              fill="#7BCDEF"
              p-id="2803"
            />
          </svg>
        )
      case 4:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2929">
            <path
              d="M1757.622857 73.142857c24.795429 0 49.517714 24.722286 43.373714 49.444572v747.446857a48.859429 48.859429 0 0 1-49.590857 49.371428H122.660571A48.786286 48.786286 0 0 1 73.142857 870.034286V209.042286c0-24.722286 18.578286-49.444571 49.517714-49.444572h1021.805715v-37.010285c0-24.722286 18.651429-49.444571 49.590857-49.444572h563.565714zM710.948571 264.630857h-49.517714c-18.578286 0-37.156571 18.578286-37.156571 37.083429v309.248c0.146286 13.238857 0.877714 26.770286 6.217143 30.500571l173.348571 172.909714c12.434286 12.434286 43.373714 12.434286 43.373714 12.434286h1.097143c5.558857-0.219429 31.232-1.462857 42.276572-12.434286l185.782857-172.909714c6.217143-6.217143 6.217143-18.505143 6.217143-30.866286V307.858286c0-18.505143-18.578286-37.010286-37.156572-37.010286h-49.517714c-18.651429 0-37.229714 18.505143-37.229714 37.010286v277.942857l-105.325715 105.033143L748.251429 585.874286V301.714286c0-18.505143-18.651429-37.083429-37.156572-37.083429z m-445.878857 0h-49.590857c-18.578286 0-37.156571 18.578286-37.156571 37.083429v488.009143c0 18.505143 18.578286 37.010286 37.156571 37.010285h297.325714c18.578286 0 37.156571-18.505143 37.156572-37.010285v-49.444572c0-18.578286-18.578286-37.083429-37.156572-37.083428h-210.651428v-401.554286c0-18.432-18.505143-37.010286-37.083429-37.010286z m1065.179429-92.672h-49.517714c-18.578286 0-37.083429 18.505143-37.083429 37.010286v315.026286c0 18.578286 18.505143 37.083429 37.083429 37.083428h297.252571v228.571429c0 18.505143 18.578286 37.083429 37.229714 37.083428h49.517715c18.578286 0 37.156571-18.578286 37.156571-37.083428V208.969143c0-18.505143-18.578286-37.010286-37.156571-37.010286h-49.517715c-18.651429 0-37.229714 18.505143-37.229714 37.010286v228.571428h-210.505143V208.969143c0-18.505143-18.651429-37.010286-37.229714-37.010286z"
              fill="#FEBB8B"
              p-id="2931"
            />
          </svg>
        )
      case 5:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="3057"
            width="200"
            height="200">
            <path
              d="M1779.565714 73.142857c24.795429 0 49.590857 24.722286 43.446857 49.444572v747.446857a48.859429 48.859429 0 0 1-49.590857 49.371428H144.603429a48.786286 48.786286 0 0 1-49.590858-49.371428V209.042286c0-24.722286 18.578286-49.444571 49.590858-49.444572h1021.805714v-37.010285c0-24.722286 18.578286-49.444571 49.517714-49.444572h563.565714zM733.037714 264.630857h-49.590857c-18.578286 0-37.156571 18.578286-37.156571 37.083429v302.665143c0 12.507429 0 31.232 6.217143 37.083428l173.348571 172.909714c11.044571 10.971429 36.790857 12.214857 42.349714 12.434286h1.024s31.012571 0 43.373715-12.434286l185.782857-172.909714c6.217143-6.217143 6.217143-18.505143 6.217143-30.866286V307.858286c0-18.505143-18.578286-37.010286-37.156572-37.010286h-49.517714c-18.651429 0-37.156571 18.505143-37.156572 37.010286v277.942857l-105.325714 105.033143-105.325714-104.96V301.714286c0-18.505143-18.505143-37.083429-37.083429-37.083429z m-445.952 0h-49.517714c-18.578286 0-37.156571 18.578286-37.156571 37.083429v488.009143c0 18.505143 18.578286 37.010286 37.156571 37.010285h297.252571c18.578286 0 37.156571-18.505143 37.156572-37.010285v-49.444572c0-18.578286-18.578286-37.083429-37.156572-37.083428H324.242286v-401.554286c0-18.432-18.578286-37.010286-37.156572-37.010286z m1399.661715-92.672h-384c-18.578286 0-37.083429 18.505143-37.083429 37.010286v315.026286c0 18.578286 18.505143 37.083429 37.083429 37.083428h297.252571v142.116572h-297.252571c-18.578286 0-37.083429 18.432-37.083429 37.010285v49.444572c0 18.505143 18.505143 37.083429 37.083429 37.083428h384c18.578286 0 37.156571-18.578286 37.156571-37.083428V474.624c0-18.505143-18.578286-37.083429-37.156571-37.083429h-297.179429V301.641143h297.179429c18.578286 0 37.156571-18.505143 37.156571-37.083429v-55.588571c0-18.505143-18.578286-37.010286-37.156571-37.010286z"
              fill="#EE672A"
              p-id="3059"
            />
          </svg>
        )
      case 6:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="2673">
            <path
              d="M1779.565714 93.037714c22.674286 0 45.421714 20.772571 44.324572 43.300572l-0.877715 6.144v747.446857c0 22.454857-15.36 44.909714-41.472 48.859428l-8.118857 0.585143H144.603429a48.859429 48.859429 0 0 1-49.005715-41.325714l-0.585143-8.118857V228.937143c0-22.454857 15.36-44.909714 41.398858-48.786286l8.192-0.585143h1021.805714v-37.083428c0-22.454857 15.36-44.909714 41.398857-48.786286l8.118857-0.658286h563.565714z m-92.891428 105.033143h-383.926857c-16.457143 0-32.914286 14.628571-36.425143 30.939429l-0.658286 6.144v574.464c0 16.457143 14.628571 32.914286 30.939429 36.425143l6.144 0.658285h384c16.530286 0 32.987429-14.628571 36.498285-30.939428l0.658286-6.144V494.592c0-16.530286-14.628571-32.914286-31.012571-36.425143l-6.144-0.658286h-297.179429V321.609143h297.179429c16.530286 0 32.987429-14.628571 36.498285-30.939429l0.658286-6.144v-49.371428c0-18.578286-18.578286-37.083429-37.156571-37.083429zM733.110857 284.598857h-49.590857c-18.578286 0-37.156571 18.505143-37.156571 37.010286v302.738286c0 16.749714 0 31.817143 6.217142 37.010285l173.348572 172.909715c7.899429 7.899429 23.259429 10.752 33.426286 11.849142l9.947428 0.585143 8.557714-0.438857c10.093714-0.950857 26.550857-3.657143 34.816-11.995428l185.782858-172.909715c4.973714-4.900571 5.997714-13.824 6.144-23.478857V327.68c0-18.505143-18.505143-37.010286-37.083429-37.010286h-49.517714c-18.651429 0-37.156571 18.505143-37.156572 37.083429v277.942857l-105.325714 104.96-105.325714-104.96V321.609143c0-18.505143-18.505143-37.010286-37.083429-37.010286z m-445.952 0h-49.517714c-16.530286 0-33.060571 14.628571-36.571429 30.866286l-0.585143 6.144v488.009143c0 16.530286 14.628571 32.914286 30.939429 36.425143l6.217143 0.658285h297.252571c16.530286 0 32.987429-14.628571 36.498286-30.939428l0.658286-6.144v-49.371429c0-16.603429-14.628571-32.987429-31.012572-36.425143l-6.144-0.658285H324.242286v-401.554286c0-18.505143-18.578286-37.010286-37.156572-37.010286z m1312.914286 296.448v142.116572h-210.505143V581.046857h210.505143z"
              fill="#FF0000"
              p-id="2675"
            />
          </svg>
        )
      case 7:
        return (
          <svg
            className={classnames(bigIconClass, "-mt-1")}
            viewBox="0 0 1901 1024"
            version="1.1"
            p-id="3185">
            <path
              d="M2510.994286 73.142857c22.747429 0 45.494857 20.772571 44.397714 43.300572l-0.950857 6.144v747.446857c0 22.381714-15.36 44.909714-41.472 48.786285l-8.118857 0.585143H144.676571a48.859429 48.859429 0 0 1-49.005714-41.252571l-0.512-8.118857V209.042286c0-22.454857 15.36-44.982857 41.398857-48.859429l8.118857-0.585143h1021.805715v-37.010285c0-22.454857 15.36-44.982857 41.472-48.859429l8.045714-0.585143h1295.067429zM2170.88 174.518857l-272.310857 370.614857a27.867429 27.867429 0 0 0 22.528 44.397715h176.713143l-30.427429 210.944c-4.169143 28.745143 32.914286 43.958857 50.176 20.48l272.237714-370.541715a27.940571 27.940571 0 0 0-22.528-44.470857h-176.713142l30.427428-210.870857c4.169143-28.818286-32.914286-43.958857-50.102857-20.553143z m-484.059429 3.584h-384c-18.505143 0-37.010286 18.578286-37.010285 37.083429v574.464c0 18.578286 18.505143 37.083429 37.083428 37.083428h384c18.505143 0 37.083429-18.505143 37.083429-37.083428V474.624c0-18.505143-18.578286-37.010286-37.156572-37.010286h-297.179428V301.714286h297.179428c18.578286 0 37.156571-18.578286 37.156572-37.083429v-49.444571c0-18.505143-18.578286-37.083429-37.156572-37.083429zM733.037714 264.630857h-49.517714c-18.578286 0-37.156571 18.505143-37.156571 37.083429v302.665143c0 16.822857 0 31.817143 6.217142 37.083428l173.348572 172.909714c12.434286 12.361143 43.373714 12.361143 43.373714 12.361143s30.939429 0 43.373714-12.361143l185.782858-172.909714c6.144-6.217143 6.144-18.578286 6.144-30.866286V307.858286c0-18.505143-18.578286-37.010286-37.156572-37.010286h-49.444571c-18.651429 0-37.229714 18.505143-37.229715 37.010286V585.874286l-105.325714 104.96L770.194286 585.874286V301.714286c0-18.578286-18.578286-37.083429-37.156572-37.083429z m-445.878857 0h-49.590857c-16.530286 0-32.987429 14.628571-36.498286 30.939429l-0.658285 6.144v488.009143c0 16.457143 14.628571 32.914286 31.012571 36.352l6.144 0.658285h297.252571c16.530286 0 33.060571-14.628571 36.571429-30.866285l0.585143-6.144v-49.444572c0-16.530286-14.628571-32.914286-30.939429-36.425143l-6.217143-0.658285H324.315429V301.714286c0-18.578286-18.578286-37.083429-37.156572-37.083429z m1312.914286 296.521143v142.043429h-210.505143V561.152h210.432z"
              fill="#FF0000"
              p-id="3187"
            />
          </svg>
        )
    }
  }

  const sexDom = (sex) => {
    switch (sex) {
      case "男":
        return (
          <svg
            className={classnames(smallIconClass, "-mt-1")}
            viewBox="0 0 1024 1024"
            version="1.1"
            p-id="3079">
            <path
              d="M927.698 0.006H652.811v96.295h206.791L641.926 313.996c-67.461-52.85-152.366-84.441-244.7-84.441-219.38 0-397.22 177.839-397.22 397.22 0 219.38 177.839 397.22 397.22 397.22 219.381 0 397.22-177.84 397.22-397.22 0-92.335-31.586-177.234-84.436-244.689l217.688-217.688V371.19h96.295V0.006h-96.295zM397.226 927.698c-165.931 0-300.924-134.993-300.924-300.924 0-165.932 134.993-300.924 300.924-300.924 165.932 0 300.924 134.992 300.924 300.924-0.001 165.931-134.993 300.924-300.924 300.924z"
              fill="#BE185D"
              p-id="3080"
            />
          </svg>
        )
      case "女":
        return (
          <svg
            className={classnames(smallIconClass, "-mt-1")}
            viewBox="0 0 1024 1024"
            version="1.1"
            p-id="3334">
            <path
              d="M554.424 713.857c177.825-21 315.792-172.154 315.792-355.63C870.216 160.378 709.84 0.012 512 0.012c-197.839 0-358.216 160.366-358.216 358.216 0 182.775 136.939 333.484 313.8 355.375v67.208H250.388v86.84h217.196v156.338h86.84V867.65H771.62v-86.84H554.424v-66.953zM240.625 358.228C240.625 208.59 362.363 86.853 512 86.853c149.639 0 271.376 121.737 271.376 271.375 0 149.639-121.737 271.376-271.376 271.376-149.638 0-271.375-121.738-271.375-271.376z"
              fill="#BE185D"
              p-id="3335"
            />
          </svg>
        )
      case "保密":
        return ""
    }
  }

  const attributeDom = (attribute) => {
    switch (attribute) {
      case 0:
        return (
          <span className={classnames("text-pink-200")}>
            <svg
              className={bigIconClass}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
            未关注
          </span>
        )
      case 2:
        return (
          <span className={classnames("text-pink-300")}>
            <svg
              className={bigIconClass}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
              />
            </svg>
            已关注
          </span>
        )
      case 6:
        return (
          <span className={classnames("text-pink-400")}>
            <svg
              className={bigIconClass}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"
              />
            </svg>
            已互粉
          </span>
        )
    }
  }

  return (
    <div
      className={classnames("m-20", "px-20", "relative", "flex", "flex-row")}>
      <div
        className={classnames(
          "absolute",
          "top-1/2",
          "left-0",
          "-mt-6",
          page !== 1 ? "cursor-pointer" : "cursor-not-allowed"
        )}
        onClick={() => page !== 1 && setPage(page - 1)}>
        <svg
          className={classnames("h-12", "w-12")}
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          strokeWidth={2}>
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M11 19l-7-7 7-7m8 14l-7-7 7-7"
          />
        </svg>
      </div>
      <div
        className={classnames(
          "absolute",
          "top-1/2",
          "right-0",
          "-mt-6",
          page !== max ? "cursor-pointer" : "cursor-not-allowed"
        )}
        onClick={() => page !== max && setPage(page + 1)}>
        <svg
          className={classnames("h-12", "w-12")}
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          strokeWidth={2}>
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M13 5l7 7-7 7M5 5l7 7-7 7"
          />
        </svg>
      </div>

      <div
        className={classnames(
          "space-y-2",
          "flex-none",
          "w-60",
          "cursor-pointer"
        )}
        onClick={() => {
          window.open(`https://space.bilibili.com/${user?.mid}`)
        }}>
        <img
          className={classnames("h-60", "w-60", "rounded-full")}
          src={user?.face}
          alt="头像"
        />
        {/* 名字 */}
        <div className={classnames("text-lg", "text-center", "text-pink-400")}>
          {sexDom(user?.sex)}
          <span className={classnames({ "line-through": user?.silence })}>
            {user?.uname}
          </span>
          {lvDom(user?.level + user?.is_senior_member)}
        </div>

        <div
          className={classnames(
            "text-center",
            "border-3",
            "border",
            "rounded-lg",
            "border-pink-200"
          )}>
          {attributeDom(user?.attribute)}
        </div>
      </div>

      <div
        className={classnames(
          "space-y-4",
          "flex-grow",
          "ml-10",
          "text-left",
          "text-pink-300"
        )}>
        {/* 官方认证 */}
        {(user?.official?.title || user?.nameplate?.name) && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M13 10V3L4 14h7v7l9-11h-7z"
              />
            </svg>
            <span className={classnames("space-x-2", "inline")}>
              <span>{user?.official?.title}</span>
              <span>{user?.nameplate?.name}</span>
            </span>
          </p>
        )}

        {/* 学校 */}
        {user?.school?.name && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path d="M12 14l9-5-9-5-9 5 9 5z" />
              <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"
              />
            </svg>
            <span>{user?.school?.name}</span>
          </p>
        )}

        {/* 生日 */}
        {user?.birthday && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z"
              />
            </svg>
            <span>{dayjs(user?.birthday).format("MM月DD日")}</span>
          </p>
        )}

        {/* 粉丝数 */}
        {user?.follow_count && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
              />
            </svg>
            <span className={classnames("space-x-2", "inline")}>
              <span>粉丝数：</span>
              <span>{user?.follow_count}</span>
            </span>
          </p>
        )}

        {/* 直播间 */}
        {user?.live_room?.title && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              viewBox="0 0 20 20"
              fill="currentColor">
              <path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z" />
            </svg>
            <span className={classnames("space-x-2", "inline")}>
              <span>直播间地址：</span>
              <a
                className={classnames("font-black", "underline")}
                target="_blank"
                href={user?.live_room?.url}>
                {user?.live_room?.title}
              </a>
              <span>
                「
                {user?.live_room?.roundStatus === 1
                  ? "轮播中"
                  : user?.live_room?.liveStatus === 0
                  ? "未开播"
                  : "直播中"}
                」
              </span>
            </span>
          </p>
        )}

        {/* 拥有徽章 */}
        {user?.fans_badge && user?.fans_medal?.show && user?.fans_medal?.wear && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              viewBox="0 0 1024 1024"
              version="1.1"
              p-id="6686">
              <path
                d="M512.5 63C734.795 63 915 243.233 915 465.562c0 92.004-30.86 176.8-82.79 244.597l-0.01 172.91a75.923 75.923 0 0 1-2.978 21.055c-11.51 39.877-52.862 63.04-92.766 52.216l-1.208-0.338-175.792-50.758a160.976 160.976 0 0 0-87.627-0.477l-1.685 0.477-175.792 50.758a75.89 75.89 0 0 1-21.052 2.978c-41.5 0-75.22-33.31-75.89-74.656l-0.01-1.255-0.01-167.018C142.688 647.305 110 560.25 110 465.562 110 243.233 290.205 63 512.5 63z m259.908 709.955c-46.973 39.77-103.184 68.962-164.957 83.904l144.383 41.68c8.543 2.467 17.468-2.46 19.934-11.004 0.35-1.21 0.555-2.456 0.614-3.712l0.018-0.754z m-515.215 3.837l0.007 106.277c0 8.893 7.208 16.102 16.1 16.102 1.259 0 2.513-0.148 3.736-0.44l0.73-0.192 142.302-41.08c-60.755-14.279-116.203-42.325-162.875-80.667zM512.5 122.81c-189.268 0-342.7 153.456-342.7 342.753 0 189.298 153.432 342.753 342.7 342.753S855.2 654.86 855.2 465.562c0-189.297-153.432-342.753-342.7-342.753z m-26.575 168.073c7.87-15.95 27.178-22.499 43.126-14.627a32.202 32.202 0 0 1 14.624 14.627l45.056 91.309 100.751 14.642c17.361 2.523 29.462 18.46 27.33 35.789l-0.095 0.712a32.207 32.207 0 0 1-9.39 18.431l-72.904 71.072 17.211 100.361c2.965 17.29-8.446 33.723-25.576 37.055l-0.717 0.13a32.196 32.196 0 0 1-20.427-3.235L514.8 609.765l-90.114 47.383c-15.516 8.158-34.654 2.394-43.124-12.85l-0.361-0.67a32.21 32.21 0 0 1-3.235-20.43l17.209-100.361-72.903-71.072c-12.538-12.224-12.984-32.179-1.146-44.948l0.564-0.593a32.198 32.198 0 0 1 18.428-9.39l100.748-14.643z m28.875 76.625l-34.22 69.35-76.52 11.121 55.37 53.98-13.073 76.223 68.443-35.987 68.441 35.987-13.07-76.222 55.367-53.98-76.517-11.122-34.221-69.35z"
                fill="#F9A8D4"
                p-id="6687"
              />
            </svg>
            <span className={classnames("space-x-2", "inline")}>
              <span>拥有徽章：</span>
              <span>{user?.fans_medal?.medal?.medal_name}</span>
              <span>「{user?.fans_medal?.medal?.level}」</span>
            </span>
          </p>
        )}

        {user?.vip?.type !== 0 && (
          <p>
            <svg
              className={classnames(smallIconClass, "-mt-1")}
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              strokeWidth={2}>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                d="M9 8l3 5m0 0l3-5m-3 5v4m-3-5h6m-6 3h6m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            {user?.vip?.label?.text}
          </p>
        )}

        {/* 时间线 */}
        <p>
          <svg
            className={classnames(smallIconClass, "-mt-1")}
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            strokeWidth={2}>
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <span className={classnames("space-x-2", "inline")}>
            <span>
              于{dayjs(user?.mtime * 1000).format("YYYY年MM月DD日")}关注该UP
            </span>
            <span>「已关注{dayjs(user?.mtime * 1000).fromNow(true)}」</span>
          </span>
        </p>

        {/* 个性签名 */}
        <p>
          <svg
            className={classnames(smallIconClass, "-mt-1")}
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            strokeWidth={2}>
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
            />
          </svg>
          {user?.sign || "该UP未写任何签名！"}
        </p>
      </div>
    </div>
  )
}
